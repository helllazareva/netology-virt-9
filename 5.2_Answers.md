
5.2. Системы управления виртуализацией

Задача 1 
Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.
Сценарии:
    
1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных 
балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.   
     
В случае преимущестывенно Windows based инфраструктуры имеет смысл использовать Microsoft Hyper-V. Позволяет запускать на хосте несколько ОС, как Windows так и Linux. Возможна реализация программных балансировщиков нагрузки, имеется API для создания резервных копий, а также возможность настроить репликацию данных через Hyper-V Replica.   
  
2. Требуется наиболее производительное бесплатное opensource решение для виртуализации небольшой (20 серверов) инфраструктуры Linux и Windows виртуальных машин.
    Наиболее производительным решением в данном случае скорее всего будет KVM, так как требуется настраивать Windows в гостевых ОС.

3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры
    В случае если виртуализация настраивается на Windows,то самым удобны вариантом может быть Hyper-V. Если же на Linux, то имеет смысл использовать KVM, как бесплатную, относительно произвидетльную и отказоустойчивую систему виртуализации, в которой можно настроить работу Windows инфраструктуры.
 
    

4. Необходимо рабочее окружение для тестирование программного продукта на нескольких дистрибутивах Linux.
При необходимости тестирования на разных дистрибутивах Linux возможно самым оптимальным решением может быть использование Virtual Box. Система поддерживает широкий список гостевых и хостовых систем. Проста в установке и настройке.


Задача 2

Опишите сценарий миграции с VMware vSphere на Hyper-V для Linux и Windows виртуальных машин. Детально опишите необходимые шаги для использования всех преимуществ Hyper-V 
для Windows.

Основные этапы миграции с VMware vSphere на Hyper-V включают в себя:
1. Копируем файлы виртуальной машины VMware в формате vmdk.
2. Конвертируем в формат Hyper-V vhd.
3. Помещаем файл на диск с Hyper-V.
4. Создаем виртуальную машину в Hyper-V из имеющегося файла vhd.

Также для процесса миграции можно использовать Microsoft System Center Virtual Machine Manager, который позволяет подключить всю инфраструктуру VMware и осуществить преобразование виртуальных машин VMware в Hyper-V. 
SCVMM мигрирует виртуальную машину в выключенном состоянии, копируя ее диск в формате VMDK на узел по протоколу HTTP и выполняя конвертацию в VHDX по окончании копирования. SCVMM автоматически выбирает наименее загруженный узел для мигрируемой виртуальной машины и свободный диск для размещения ее файлов. Виртуальная машина сразу же является высокодоступной, подключенной к виртуальным сетям, управляемым VMM, получает указанный IP адрес из специального пула. Все операции можно единожды выполнить из GUI и сохранить в виде сценариев PowerShell для последующих модификаций.
При миграции виртуальной машины средствами SCVMM исходная машина на стороне VMware выключается и остается там по окончании миграции, требуя ручного удаления, что дает возможность простого включения исходной виртуальной машины, как плана отмены миграции.

Задача 3

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был бы выбор, то создавали ли вы бы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

Внедрение виртуализации способствует снижению затрат на покупку и поддержку аппартаного обеспечения, а также позволяет оперативно обнаруживать и устранять сбои, эффективно распределять ресурсы и поддерживать бесперибойную работу систем. Но в случае больших компания, не всегда имеетсявозможность полностью однообразно виртуализировать ИТ-инфраструктуру и поэтому возникает необходимость создавать гетерогенную среду виртуализации. К недостаткам подобных сред можно отнести сложность управления одновременно различных систем виртуализации, что подразумевает не только зависимость от продукции нескольких вендоров(аппаратная часть), но и требует привлечения различных специалистов для поддержки всей инфраструктуры. Также проблемой может быть миграция данных между физическим и виртуальными машинами в следствии разнородности виртуальных сред. Для минимизации проблем необходимо снизить вероятность несовместимости технологий, по возмонжности настроить масштабируемость ИТ-инфрастуктуры в виртуальной среде. Скорее всего в некоторых ситуациях без гетерогенной среды трудно обойтись, поэтом при ее создании надо учитывть уже имеющийся функционал, аппаратную часть и продумывать совместимотсть систем. В идеальной ситуации я бы старалась обойтись без гетерогенной среды.

